{"ast":null,"code":"var _jsxFileName = \"D:\\\\AUPP\\\\Final AUPP\\\\aupp_schoolcool\\\\frontend\\\\src\\\\ctx\\\\UserContextProvider.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from \"react\";\n\n// Create a context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const UserContext = /*#__PURE__*/createContext({});\n\n// Create a provider\nexport function UserContextProvider({\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    // Load the user from localStorage\n    const user = JSON.parse(localStorage.getItem(\"bankfresh-user\"));\n    // Load the token from localStorage\n    const token = localStorage.getItem(\"bankfresh-token\");\n    if (user) {\n      setUser(user);\n      setIsAuthenticated(true);\n      setToken(token);\n    }\n  }, []);\n  function login(user, token) {\n    // Save the user to localStorage\n    localStorage.setItem(\"bankfresh-user\", JSON.stringify(user));\n    // Save the token to localStorage\n    localStorage.setItem(\"bankfresh-token\", token);\n    // Set the user and token in state\n    setUser(user);\n    setIsAuthenticated(true);\n    setToken(token);\n  }\n  function updateUser(user) {\n    // Save the user to localStorage\n    localStorage.setItem(\"bankfresh-user\", JSON.stringify(user));\n    // Set the user and token in state\n    setUser(user);\n  }\n  function logout() {\n    // Remove the user and token from localStorage\n    localStorage.removeItem(\"bankfresh-user\");\n    localStorage.removeItem(\"bankfresh-token\");\n    // Remove the user and token from state\n    setUser(null);\n    setIsAuthenticated(false);\n    setToken(null);\n  }\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      user,\n      login,\n      isAuthenticated,\n      token,\n      updateUser,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(UserContextProvider, \"ZbKQZRXH36/8xrPCU0OWwoDMEAQ=\");\n_c = UserContextProvider;\nvar _c;\n$RefreshReg$(_c, \"UserContextProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","jsxDEV","_jsxDEV","UserContext","UserContextProvider","children","_s","user","setUser","isAuthenticated","setIsAuthenticated","token","setToken","JSON","parse","localStorage","getItem","login","setItem","stringify","updateUser","logout","removeItem","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/AUPP/Final AUPP/aupp_schoolcool/frontend/src/ctx/UserContextProvider.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\r\n\r\n// Create a context\r\nexport const UserContext = createContext({});\r\n\r\n// Create a provider\r\nexport function UserContextProvider({ children }) {\r\n  const [user, setUser] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [token, setToken] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Load the user from localStorage\r\n    const user = JSON.parse(localStorage.getItem(\"bankfresh-user\"));\r\n    // Load the token from localStorage\r\n    const token = localStorage.getItem(\"bankfresh-token\");\r\n    if (user) {\r\n      setUser(user);\r\n      setIsAuthenticated(true);\r\n      setToken(token);\r\n    }\r\n  }, []);\r\n\r\n  function login(user, token) {\r\n    // Save the user to localStorage\r\n    localStorage.setItem(\"bankfresh-user\", JSON.stringify(user));\r\n    // Save the token to localStorage\r\n    localStorage.setItem(\"bankfresh-token\", token);\r\n    // Set the user and token in state\r\n    setUser(user);\r\n    setIsAuthenticated(true);\r\n    setToken(token);\r\n  }\r\n\r\n  function updateUser(user) {\r\n    // Save the user to localStorage\r\n    localStorage.setItem(\"bankfresh-user\", JSON.stringify(user));\r\n    // Set the user and token in state\r\n    setUser(user);\r\n  }\r\n\r\n  function logout() {\r\n    // Remove the user and token from localStorage\r\n    localStorage.removeItem(\"bankfresh-user\");\r\n    localStorage.removeItem(\"bankfresh-token\");\r\n    // Remove the user and token from state\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n    setToken(null);\r\n  }\r\n  return (\r\n    <UserContext.Provider\r\n      value={{ user, login, isAuthenticated, token, updateUser, logout }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;;AAEjE;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAO,MAAMC,WAAW,gBAAGL,aAAa,CAAC,CAAC,CAAC,CAAC;;AAE5C;AACA,OAAO,SAASM,mBAAmBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAChD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACU,eAAe,EAAEC,kBAAkB,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd;IACA,MAAMO,IAAI,GAAGM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,gBAAgB,CAAC,CAAC;IAC/D;IACA,MAAML,KAAK,GAAGI,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAAC;IACrD,IAAIT,IAAI,EAAE;MACRC,OAAO,CAACD,IAAI,CAAC;MACbG,kBAAkB,CAAC,IAAI,CAAC;MACxBE,QAAQ,CAACD,KAAK,CAAC;IACjB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,SAASM,KAAKA,CAACV,IAAI,EAAEI,KAAK,EAAE;IAC1B;IACAI,YAAY,CAACG,OAAO,CAAC,gBAAgB,EAAEL,IAAI,CAACM,SAAS,CAACZ,IAAI,CAAC,CAAC;IAC5D;IACAQ,YAAY,CAACG,OAAO,CAAC,iBAAiB,EAAEP,KAAK,CAAC;IAC9C;IACAH,OAAO,CAACD,IAAI,CAAC;IACbG,kBAAkB,CAAC,IAAI,CAAC;IACxBE,QAAQ,CAACD,KAAK,CAAC;EACjB;EAEA,SAASS,UAAUA,CAACb,IAAI,EAAE;IACxB;IACAQ,YAAY,CAACG,OAAO,CAAC,gBAAgB,EAAEL,IAAI,CAACM,SAAS,CAACZ,IAAI,CAAC,CAAC;IAC5D;IACAC,OAAO,CAACD,IAAI,CAAC;EACf;EAEA,SAASc,MAAMA,CAAA,EAAG;IAChB;IACAN,YAAY,CAACO,UAAU,CAAC,gBAAgB,CAAC;IACzCP,YAAY,CAACO,UAAU,CAAC,iBAAiB,CAAC;IAC1C;IACAd,OAAO,CAAC,IAAI,CAAC;IACbE,kBAAkB,CAAC,KAAK,CAAC;IACzBE,QAAQ,CAAC,IAAI,CAAC;EAChB;EACA,oBACEV,OAAA,CAACC,WAAW,CAACoB,QAAQ;IACnBC,KAAK,EAAE;MAAEjB,IAAI;MAAEU,KAAK;MAAER,eAAe;MAAEE,KAAK;MAAES,UAAU;MAAEC;IAAO,CAAE;IAAAhB,QAAA,EAElEA;EAAQ;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAE3B;AAACtB,EAAA,CAnDeF,mBAAmB;AAAAyB,EAAA,GAAnBzB,mBAAmB;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}